<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¹´ë…¸ ëª¨ë¸(Kano Model) ì¸í„°ë™í‹°ë¸Œ ê°€ì´ë“œ</title>

    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JWZ6CLGNXF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-JWZ6CLGNXF');
</script>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    
    <!-- Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@3.0.1/dist/chartjs-plugin-annotation.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #fdfbf7; /* Warm neutral background */
            color: #333;
            scroll-behavior: smooth;
        }
        .chart-container {
            position: relative;
            width: 100%;
            height: 350px;
            max-height: 400px;
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .matrix-cell {
            transition: background-color 0.3s ease, transform 0.2s ease;
        }
        .active-cell {
            background-color: #fcd34d !important; /* Amber-300 */
            color: #78350f !important; /* Amber-900 */
            font-weight: 900;
            transform: scale(1.1);
            border: 2px solid #b45309;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            z-index: 10;
        }
        .writing-vertical {
            writing-mode: vertical-rl;
            text-orientation: mixed;
        }
        
        /* AI Section Styles */
        .ai-gradient {
            background: linear-gradient(135deg, #e0f2fe 0%, #f0f9ff 100%);
        }
        .loading-spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3b82f6;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Modal Styles */
        .modal {
            transition: opacity 0.3s ease-in-out;
            opacity: 0;
            pointer-events: none;
        }
        .modal.active {
            opacity: 1;
            pointer-events: auto;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }
    </style>
</head>
<body class="bg-[#fdfbf7] text-gray-800 antialiased">

    <!-- Navigation / Header -->
    <header class="bg-white/90 backdrop-blur-md shadow-sm sticky top-0 z-50 transition-all duration-300">
        <div class="container mx-auto px-4 py-4 flex flex-col md:flex-row justify-between items-center gap-4">
            <h1 class="text-2xl font-black text-gray-900 tracking-tight flex items-center gap-2">
                <span class="bg-blue-600 text-white rounded-lg px-2 py-1 text-lg">K</span>
                Kano Model <span class="text-blue-600 text-base font-medium">Interactive Guide</span>
            </h1>
            <nav class="flex flex-wrap justify-center gap-4 md:gap-6 text-sm md:text-base font-medium items-center">
                <a href="#concept" class="hover:text-blue-600 transition-colors py-1.5">í’ˆì§ˆ ìš”ì†Œ</a>
                <a href="#simulation" class="hover:text-blue-600 transition-colors py-1.5">ì„¤ë¬¸ ì‹œë®¬ë ˆì´ì…˜</a>
                <a href="#ai-assistant" class="flex items-center gap-1 text-white font-bold bg-blue-600 hover:bg-blue-700 px-4 py-1.5 rounded-full shadow-sm transition-all"><span class="text-lg">âœ¨</span> AI ì–´ì‹œìŠ¤í„´íŠ¸</a>
                <a href="#strategy" class="hover:text-blue-600 transition-colors py-1.5">ì „ëµ ìˆ˜ë¦½</a>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="container mx-auto px-4 py-16 md:py-24 text-center">
        <div class="max-w-3xl mx-auto">
            <h2 class="text-4xl md:text-5xl font-extrabold mb-6 leading-tight text-gray-900">
                ê³ ê°ì˜ ë§ˆìŒì„ ì½ëŠ” <br/> <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600">í’ˆì§ˆì˜ ê¸°ì¤€</span>ì„ ì„¸ìš°ë‹¤
            </h2>
            <p class="text-lg text-gray-600 mb-8 leading-relaxed">
                "ê¸°ëŠ¥ì´ ë§ìœ¼ë©´ ë¬´ì¡°ê±´ ê³ ê°ì´ ì¢‹ì•„í• ê¹Œìš”?" <br>
                UX ë¦¬ì„œì²˜ì™€ PMì„ ìœ„í•œ <strong>ì¹´ë…¸ ëª¨ë¸(Kano Model)</strong> ì¸í„°ë™í‹°ë¸Œ ê°€ì´ë“œì…ë‹ˆë‹¤. <br>
                AIì™€ í•¨ê»˜ ì„¤ë¬¸ì„ ì„¤ê³„í•˜ê³ , ë°ì´í„°ì— ê¸°ë°˜í•œ ì œí’ˆ ë¡œë“œë§µì„ ê·¸ë ¤ë³´ì„¸ìš”.
            </p>
            <!-- [ë³€ê²½ë¨] ë²„íŠ¼ ì˜ì—­ ìˆ˜ì • -->
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="#ai-assistant" class="inline-block bg-white text-blue-600 border border-blue-200 px-8 py-3 rounded-full font-bold hover:bg-blue-50 transition-all shadow-sm hover:shadow-md">
                    AI ê°€ì´ë“œ ì²´í—˜í•˜ê¸°
                </a>
                <a href="kano_analyzer.html" class="inline-block bg-blue-600 text-white px-8 py-3 rounded-full font-bold hover:bg-blue-700 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-1 flex items-center justify-center gap-2">
                    <span>ì¹´ë…¸ëª¨ë¸ ë¶„ì„í•´ë³´ê¸°</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                    </svg>
                </a>
            </div>
        </div>
    </section>

    <!-- Section 1: 5 Quality Elements -->
    <section id="concept" class="bg-white py-16 border-t border-gray-100 scroll-mt-20">
        <div class="container mx-auto px-4">
            <div class="max-w-4xl mx-auto mb-10 text-center">
                <span class="text-blue-600 font-bold tracking-wider text-sm uppercase mb-2 block">Step 1</span>
                <h3 class="text-3xl font-bold mb-4">5ê°€ì§€ í’ˆì§ˆ ìš”ì†Œì˜ ì´í•´</h3>
                <p class="text-gray-600">
                    ì¹´ë…¸ ëª¨ë¸ì€ ë¬¼ë¦¬ì  ì¶©ì¡±ë„ì™€ ì£¼ê´€ì  ë§Œì¡±ë„ì˜ ê´€ê³„ê°€ ë¹„ì„ í˜•ì ì´ë¼ëŠ” ì ì— ì£¼ëª©í•©ë‹ˆë‹¤.<br>
                    ì•„ë˜ íƒ­ì„ í´ë¦­í•˜ì—¬ ê° ìš”ì†Œê°€ ê·¸ë˜í”„ ìƒì—ì„œ ì–´ë–»ê²Œ ë‚˜íƒ€ë‚˜ëŠ”ì§€ í™•ì¸í•´ ë³´ì„¸ìš”.
                </p>
            </div>

            <div class="flex flex-col lg:flex-row gap-8 items-start max-w-6xl mx-auto">
                <!-- Interactive Tabs -->
                <div class="w-full lg:w-1/3 flex flex-col space-y-3">
                    <button onclick="updateConcept('mustbe')" id="btn-mustbe" class="concept-btn group w-full text-left p-4 rounded-xl border border-gray-200 hover:border-pink-300 hover:bg-pink-50 transition-all active-tab">
                        <div class="flex items-center justify-between">
                            <span class="font-bold text-gray-800 group-hover:text-pink-700">1. ë‹¹ì—°ì  í’ˆì§ˆ (Must-be)</span>
                            <span class="text-xs bg-gray-100 text-gray-500 px-2 py-1 rounded group-hover:bg-pink-200 group-hover:text-pink-800">M</span>
                        </div>
                        <div class="text-sm text-gray-500 mt-1 pl-1">ìˆìœ¼ë©´ ë‹¹ì—°, ì—†ìœ¼ë©´ í™”ë‚˜ëŠ” ê¸°ëŠ¥</div>
                    </button>
                    
                    <button onclick="updateConcept('onedim')" id="btn-onedim" class="concept-btn group w-full text-left p-4 rounded-xl border border-gray-200 hover:border-amber-300 hover:bg-amber-50 transition-all">
                        <div class="flex items-center justify-between">
                            <span class="font-bold text-gray-800 group-hover:text-amber-700">2. ì¼ì›ì  í’ˆì§ˆ (One-dimensional)</span>
                            <span class="text-xs bg-gray-100 text-gray-500 px-2 py-1 rounded group-hover:bg-amber-200 group-hover:text-amber-800">O</span>
                        </div>
                        <div class="text-sm text-gray-500 mt-1 pl-1">ë‹¤ë‹¤ìµì„ , ì„±ëŠ¥ ê²½ìŸì˜ í•µì‹¬</div>
                    </button>
                    
                    <button onclick="updateConcept('attractive')" id="btn-attractive" class="concept-btn group w-full text-left p-4 rounded-xl border border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-all">
                         <div class="flex items-center justify-between">
                            <span class="font-bold text-gray-800 group-hover:text-blue-700">3. ë§¤ë ¥ì  í’ˆì§ˆ (Attractive)</span>
                            <span class="text-xs bg-gray-100 text-gray-500 px-2 py-1 rounded group-hover:bg-blue-200 group-hover:text-blue-800">A</span>
                        </div>
                        <div class="text-sm text-gray-500 mt-1 pl-1">ì˜ˆìƒì¹˜ ëª»í•œ ê°ë™, Wow Point</div>
                    </button>
                    
                    <button onclick="updateConcept('indifferent')" id="btn-indifferent" class="concept-btn group w-full text-left p-4 rounded-xl border border-gray-200 hover:border-gray-400 hover:bg-gray-100 transition-all">
                         <div class="flex items-center justify-between">
                            <span class="font-bold text-gray-800 group-hover:text-gray-900">4. ë¬´ê´€ì‹¬ í’ˆì§ˆ (Indifferent)</span>
                            <span class="text-xs bg-gray-100 text-gray-500 px-2 py-1 rounded group-hover:bg-gray-300 group-hover:text-gray-800">I</span>
                        </div>
                        <div class="text-sm text-gray-500 mt-1 pl-1">ìˆì–´ë„ ê·¸ë§Œ, ì—†ì–´ë„ ê·¸ë§Œ</div>
                    </button>
                    
                    <button onclick="updateConcept('reverse')" id="btn-reverse" class="concept-btn group w-full text-left p-4 rounded-xl border border-gray-200 hover:border-red-300 hover:bg-red-50 transition-all">
                         <div class="flex items-center justify-between">
                            <span class="font-bold text-gray-800 group-hover:text-red-700">5. ì—­í’ˆì§ˆ (Reverse)</span>
                            <span class="text-xs bg-gray-100 text-gray-500 px-2 py-1 rounded group-hover:bg-red-200 group-hover:text-red-800">R</span>
                        </div>
                        <div class="text-sm text-gray-500 mt-1 pl-1">ì˜¤íˆë ¤ ì‹«ì–´í•˜ëŠ” ê¸°ëŠ¥</div>
                    </button>
                </div>

                <!-- Visualization Area -->
                <div class="w-full lg:w-2/3 flex flex-col gap-4">
                    <div class="bg-white rounded-2xl p-4 shadow-lg border border-gray-200 h-[400px] flex items-center justify-center relative">
                        <!-- Chart Labels Overlay -->
                        <div class="absolute top-4 left-1/2 transform -translate-x-1/2 font-bold text-gray-400 text-sm">ë§Œì¡± (Satisfaction)</div>
                        <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 font-bold text-gray-400 text-sm">ë¶ˆë§Œì¡±</div>
                        <div class="absolute right-4 top-1/2 transform -translate-y-1/2 rotate-90 font-bold text-gray-400 text-sm">ì¶©ì¡±ë¨</div>
                        <div class="absolute left-4 top-1/2 transform -translate-y-1/2 rotate-90 font-bold text-gray-400 text-sm">ì¶©ì¡± ì•ˆë¨</div>
                        
                        <div class="chart-container w-full h-full">
                            <canvas id="kanoConceptChart"></canvas>
                        </div>
                    </div>
                    <div id="concept-description" class="p-6 bg-gray-50 rounded-xl border border-gray-200 shadow-sm min-h-[100px] flex flex-col justify-center">
                        <!-- Dynamic Content Loaded via JS -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 2: Survey & Analysis Simulation -->
    <section id="simulation" class="py-16 bg-[#f4f7f6] scroll-mt-20">
        <div class="container mx-auto px-4">
            <div class="max-w-4xl mx-auto mb-10 text-center">
                <span class="text-blue-600 font-bold tracking-wider text-sm uppercase mb-2 block">Step 2</span>
                <h3 class="text-3xl font-bold mb-4">ì‹¤ì „ ì„¤ë¬¸ ì¡°ì‚¬ ë° ë¶„ë¥˜</h3>
                <p class="text-gray-600">
                    ì¹´ë…¸ ëª¨ë¸ì€ í•˜ë‚˜ì˜ ê¸°ëŠ¥ì— ëŒ€í•´ <strong>ê¸ì •ì  ì§ˆë¬¸</strong>ê³¼ <strong>ë¶€ì •ì  ì§ˆë¬¸</strong>ì„ ìŒìœ¼ë¡œ ë˜ì§‘ë‹ˆë‹¤.<br>
                    ì§ì ‘ ë‹µë³€ì„ ì„ íƒí•˜ì—¬ í•´ë‹¹ ê¸°ëŠ¥ì´ ì–´ë–¤ í’ˆì§ˆ ìš”ì†Œë¡œ ë¶„ë¥˜ë˜ëŠ”ì§€ ì‹œë®¬ë ˆì´ì…˜í•´ ë³´ì„¸ìš”.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-6xl mx-auto items-start">
                <!-- Simulator Controls -->
                <div class="bg-white p-6 md:p-8 rounded-2xl shadow-xl border border-gray-100">
                    <div class="flex items-center gap-3 mb-6 border-b pb-4">
                        <div class="bg-blue-100 p-2 rounded-lg text-blue-600">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                            </svg>
                        </div>
                        <h4 class="text-xl font-bold text-gray-800">ì„¤ë¬¸ ì‹œë®¬ë ˆì´í„°</h4>
                    </div>
                    
                    <div class="mb-6 group">
                        <label class="block text-sm font-bold text-blue-700 mb-2">Q1. (ê¸ì •) ì´ ê¸°ëŠ¥ì´ <span class="underline decoration-wavy">ì œê³µëœë‹¤ë©´</span> ì–´ë– ì‹œê² ìŠµë‹ˆê¹Œ?</label>
                        <select id="functional-select" class="w-full p-4 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all cursor-pointer hover:bg-white">
                            <option value="1">1. ë§ˆìŒì— ë“ ë‹¤. (Like)</option>
                            <option value="2">2. ë‹¹ì—°í•˜ë‹¤. (Must-be)</option>
                            <option value="3" selected>3. ì¤‘ë¦½ì´ë‹¤. (Neutral)</option>
                            <option value="4">4. ìˆì–´ë„ ìƒê´€ì—†ë‹¤. (Live with)</option>
                            <option value="5">5. ë§ˆìŒì— ì•ˆ ë“ ë‹¤. (Dislike)</option>
                        </select>
                    </div>

                    <div class="mb-8 group">
                        <label class="block text-sm font-bold text-red-600 mb-2">Q2. (ë¶€ì •) ì´ ê¸°ëŠ¥ì´ <span class="underline decoration-wavy">ì œê³µë˜ì§€ ì•ŠëŠ”ë‹¤ë©´</span> ì–´ë– ì‹œê² ìŠµë‹ˆê¹Œ?</label>
                        <select id="dysfunctional-select" class="w-full p-4 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none transition-all cursor-pointer hover:bg-white">
                            <option value="1">1. ì—†ëŠ” ê²Œ ë‚˜ì„ ê±° ê°™ë‹¤. (Like)</option>
                            <option value="2">2. ë‹¹ì—°íˆ ì—†ì–´ë„ ëœë‹¤. (Must-be)</option>
                            <option value="3" selected>3. ì¤‘ë¦½ì´ë‹¤. (Neutral)</option>
                            <option value="4">4. ì•„ì‰½ì§€ë§Œ ì—†ì–´ë„ ëœë‹¤. (Live with)</option>
                            <option value="5">5. ì—†ìœ¼ë©´ ì•ˆëœë‹¤. (Dislike)</option>
                        </select>
                    </div>

                    <div class="p-6 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl border border-gray-200 text-center relative overflow-hidden">
                        <div class="relative z-10">
                            <p class="text-xs uppercase tracking-widest text-gray-500 mb-2 font-semibold">ë¶„ì„ ê²°ê³¼</p>
                            <div id="result-display" class="text-4xl font-black text-gray-800 mb-2 transition-all">I (ë¬´ê´€ì‹¬ í’ˆì§ˆ)</div>
                            <p id="result-desc" class="text-sm text-gray-600 font-medium">ìˆì–´ë„ ê·¸ë§Œ, ì—†ì–´ë„ ê·¸ë§Œì¸ ê¸°ëŠ¥ì…ë‹ˆë‹¤.</p>
                        </div>
                        <!-- Background Decoration -->
                        <div class="absolute -right-4 -bottom-4 opacity-5 transform rotate-12">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-32 w-32" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- Evaluation Matrix Visualization -->
                <div class="bg-white p-6 rounded-2xl shadow-xl border border-gray-100 overflow-hidden flex flex-col h-full">
                    <h4 class="text-xl font-bold mb-6 text-gray-800 text-center">ì¹´ë…¸ í‰ê°€í‘œ (Evaluation Table)</h4>
                    <div class="flex-grow flex items-center justify-center overflow-x-auto">
                        <table class="text-center text-xs md:text-sm border-separate border-spacing-1">
                            <thead>
                                <tr>
                                    <th class="p-2"></th>
                                    <th colspan="5" class="p-3 font-semibold text-gray-700 bg-white rounded-lg border border-gray-100 mb-2 shadow-sm">ë¶€ì •ì  ì§ˆë¬¸ (Dysfunctional)</th>
                                </tr>
                                <tr class="text-gray-600">
                                    <th class="p-2 font-semibold text-gray-700 bg-white rounded-lg border border-gray-100 writing-vertical py-6 shadow-sm">ê¸ì •ì  ì§ˆë¬¸<br>(Functional)</th>
                                    <th class="p-2 w-16 bg-white rounded text-gray-700 font-medium border border-gray-100 shadow-sm">1.ì¢‹ìŒ</th>
                                    <th class="p-2 w-16 bg-white rounded text-gray-700 font-medium border border-gray-100 shadow-sm">2.ë‹¹ì—°</th>
                                    <th class="p-2 w-16 bg-white rounded text-gray-700 font-medium border border-gray-100 shadow-sm">3.ì¤‘ë¦½</th>
                                    <th class="p-2 w-16 bg-white rounded text-gray-700 font-medium border border-gray-100 shadow-sm">4.ìˆ˜ìš©</th>
                                    <th class="p-2 w-16 bg-white rounded text-gray-700 font-medium border border-gray-100 shadow-sm">5.ì‹«ìŒ</th>
                                </tr>
                            </thead>
                            <tbody id="matrix-body">
                                <!-- Rows generated by JS -->
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="mt-6 flex flex-wrap gap-3 text-xs justify-center font-medium">
                        <span class="flex items-center gap-1 px-2 py-1 bg-rose-50 text-rose-700 rounded-lg border border-rose-100 shadow-sm"><span class="w-2 h-2 rounded-full bg-rose-500"></span>A: ë§¤ë ¥ì </span>
                        <span class="flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 rounded-lg border border-blue-100 shadow-sm"><span class="w-2 h-2 rounded-full bg-blue-500"></span>O: ì¼ì›ì </span>
                        <span class="flex items-center gap-1 px-2 py-1 bg-amber-50 text-amber-700 rounded-lg border border-amber-100 shadow-sm"><span class="w-2 h-2 rounded-full bg-amber-500"></span>M: ë‹¹ì—°ì </span>
                        <span class="flex items-center gap-1 px-2 py-1 bg-gray-50 text-gray-600 rounded-lg border border-gray-100 shadow-sm"><span class="w-2 h-2 rounded-full bg-gray-400"></span>I: ë¬´ê´€ì‹¬</span>
                        <span class="flex items-center gap-1 px-2 py-1 bg-purple-50 text-purple-700 rounded-lg border border-purple-100 shadow-sm"><span class="w-2 h-2 rounded-full bg-purple-500"></span>R: ì—­í’ˆì§ˆ</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 3: AI Kano Assistant (Gemini API Integrated) -->
    <section id="ai-assistant" class="py-16 ai-gradient border-t border-b border-blue-100 scroll-mt-20">
        <div class="container mx-auto px-4">
            <div class="max-w-4xl mx-auto text-center mb-10">
                <div class="inline-flex items-center gap-1 bg-white text-blue-600 text-xs font-bold px-3 py-1.5 rounded-full shadow-sm mb-4 border border-blue-100">
                    <svg viewBox="0 0 24 24" class="w-4 h-4" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>
                    Powered by Google Gemini
                </div>
                <h3 class="text-3xl md:text-4xl font-bold mb-4 flex justify-center items-center gap-2 text-gray-900">
                    <span class="text-blue-500">âœ¨</span> AI ì¹´ë…¸ ì–´ì‹œìŠ¤í„´íŠ¸
                </h3>
                <p class="text-gray-600 max-w-2xl mx-auto">
                    ë¶„ì„í•˜ê³  ì‹¶ì€ ê¸°ëŠ¥ì˜ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.<br>
                    Geminiê°€ <strong>ë§ì¶¤í˜• ì„¤ë¬¸ ë¬¸í•­</strong>ì„ ì„¤ê³„í•˜ê³ , <strong>ì˜ˆìƒë˜ëŠ” ì¹´ë…¸ ìœ í˜•</strong>ì„ ì˜ˆì¸¡í•´ ë“œë¦½ë‹ˆë‹¤.
                </p>
                <div class="mt-4 p-3 bg-yellow-50 text-yellow-800 rounded-lg inline-block text-sm border border-yellow-200">
                     <span class="font-bold">âš ï¸ ì•Œë¦¼:</span> ì´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´ ê°œì¸ Gemini API í‚¤ê°€ í•„ìš”í•©ë‹ˆë‹¤. 
                     <button onclick="openGuideModal()" class="text-blue-600 underline font-bold ml-1 hover:text-blue-800">
                         ë°œê¸‰ ë°©ë²• ë³´ê¸°
                     </button>
                </div>
            </div>

            <div class="max-w-3xl mx-auto bg-white/80 backdrop-blur rounded-3xl shadow-2xl p-6 md:p-10 border border-white">
                
                <!-- API Key Input (Collapsible for UX) -->
                <div class="mb-6">
                    <div class="p-3 bg-gray-50 rounded-lg border border-gray-200">
                        <div class="flex justify-between items-center mb-2">
                             <label class="text-xs font-bold text-gray-600 flex items-center gap-1">
                                 <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11.536 21H9l-.386-1.543-1.543-1.543H5.464L3.727 15.273A6 6 0 015 9a6 6 0 016-6 2 2 0 014 2z" /></svg>
                                 Gemini API Key ì…ë ¥
                             </label>
                             <button onclick="openGuideModal()" class="text-xs text-blue-600 hover:underline">í‚¤ê°€ ì—†ìœ¼ì‹ ê°€ìš”?</button>
                        </div>
                        <!-- [ìˆ˜ì •ë¨] oninput ì´ë²¤íŠ¸ ì¶”ê°€: ì…ë ¥ ì¦‰ì‹œ ì €ì¥ -->
                        <input type="password" id="api-key-input" oninput="saveApiKey(this.value)" placeholder="ì—¬ê¸°ì— sk-ë¡œ ì‹œì‘í•˜ëŠ” API í‚¤ë¥¼ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”" class="w-full p-2 text-sm border rounded bg-white focus:ring-2 focus:ring-blue-500 outline-none">
                        <p class="text-[10px] text-gray-400 mt-1">* ì…ë ¥í•œ í‚¤ëŠ” ë¸Œë¼ìš°ì €ì—ë§Œ ì•ˆì „í•˜ê²Œ ì €ì¥ë˜ë©°, ë‹¤ìŒ ë°©ë¬¸ ì‹œ ìœ ì§€ë©ë‹ˆë‹¤.</p>
                    </div>
                </div>

                <!-- Input Area -->
                <div class="flex flex-col md:flex-row gap-4 mb-8">
                    <input type="text" id="feature-input" placeholder="ì˜ˆ) ë‹¤í¬ ëª¨ë“œ, ìë™ ì €ì¥, ì›°ì»´ ì¿ í°..." 
                        class="flex-grow p-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-100 focus:border-blue-500 outline-none transition-all text-gray-800 placeholder-gray-400 shadow-inner text-lg">
                    <button onclick="askGemini()" id="ai-btn" class="bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-bold py-4 px-8 rounded-2xl transition-all shadow-lg hover:shadow-xl hover:scale-105 flex items-center justify-center gap-2 whitespace-nowrap">
                        <span>ë¶„ì„í•˜ê¸°</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                        </svg>
                    </button>
                </div>

                <!-- Loading State -->
                <div id="ai-loading" class="hidden text-center py-12">
                    <div class="flex justify-center mb-4">
                        <div class="loading-spinner"></div>
                    </div>
                    <p class="text-gray-500 animate-pulse font-medium">Geminiê°€ ê¸°ëŠ¥ì„ ë¶„ì„í•˜ê³  ì„¤ë¬¸ì„ ì„¤ê³„ ì¤‘ì…ë‹ˆë‹¤...</p>
                </div>

                <!-- Error State -->
                <div id="ai-error" class="hidden p-4 bg-red-50 text-red-600 rounded-xl text-center mb-6 border border-red-100">
                    <p class="font-bold">ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</p>
                    <p class="text-sm mt-1" id="error-message">API í‚¤ë¥¼ í™•ì¸í•˜ê±°ë‚˜ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.</p>
                    <button onclick="openGuideModal()" class="mt-2 text-sm underline hover:text-red-800">API í‚¤ í™•ì¸/ë°œê¸‰ ë°©ë²• ë³´ê¸°</button>
                </div>

                <!-- Result Area -->
                <div id="ai-result" class="hidden space-y-6 animate-fade-in">
                    
                    <!-- 1. Questions -->
                    <div class="bg-white rounded-2xl p-6 border border-gray-200 shadow-sm relative overflow-hidden">
                        <div class="absolute top-0 left-0 w-1 h-full bg-blue-500"></div>
                        <h4 class="font-bold text-gray-800 mb-4 flex items-center gap-2 text-lg">
                            <span class="text-blue-600 bg-blue-100 p-1.5 rounded-lg">ğŸ“</span> ì¶”ì²œ ì„¤ë¬¸ ë¬¸í•­
                        </h4>
                        <div class="space-y-4">
                            <div class="bg-gray-50 p-4 rounded-xl">
                                <span class="text-xs font-bold text-blue-600 bg-blue-100 px-2 py-0.5 rounded border border-blue-200">ê¸ì •ì  ì§ˆë¬¸</span>
                                <p id="ai-q-func" class="mt-2 text-gray-800 font-medium text-lg">...</p>
                            </div>
                            <div class="bg-gray-50 p-4 rounded-xl">
                                <span class="text-xs font-bold text-red-500 bg-red-100 px-2 py-0.5 rounded border border-red-200">ë¶€ì •ì  ì§ˆë¬¸</span>
                                <p id="ai-q-dysfunc" class="mt-2 text-gray-800 font-medium text-lg">...</p>
                            </div>
                        </div>
                    </div>

                    <!-- 2. Analysis -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-amber-50 rounded-2xl p-6 border border-amber-100 shadow-sm relative overflow-hidden group hover:shadow-md transition-all">
                             <div class="absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-amber-100 rounded-full opacity-50 group-hover:scale-150 transition-transform duration-500"></div>
                            <h4 class="font-bold text-amber-800 mb-3 flex items-center gap-2 text-lg">
                                <span>ğŸ”</span> ì˜ˆìƒ ë¶„ë¥˜ (ê°€ì„¤)
                            </h4>
                            <p id="ai-hypothesis" class="text-xl font-bold text-gray-900 relative z-10">...</p>
                        </div>
                        <div class="bg-indigo-50 rounded-2xl p-6 border border-indigo-100 shadow-sm relative overflow-hidden group hover:shadow-md transition-all">
                             <div class="absolute bottom-0 left-0 -mb-4 -ml-4 w-24 h-24 bg-indigo-100 rounded-full opacity-50 group-hover:scale-150 transition-transform duration-500"></div>
                            <h4 class="font-bold text-indigo-800 mb-3 flex items-center gap-2 text-lg">
                                <span>ğŸ’¡</span> ì „ëµ ì¡°ì–¸
                            </h4>
                            <p id="ai-advice" class="text-gray-800 leading-relaxed font-medium relative z-10">...</p>
                        </div>
                    </div>
                    
                    <p class="text-xs text-center text-gray-400 mt-6">* AI ìƒì„± ê²°ê³¼ëŠ” ì°¸ê³ ìš©ì´ë©°, ì‹¤ì œ ì‚¬ìš©ì ì„¤ë¬¸ì„ í†µí•´ ê²€ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 4: Strategic Roadmap Dashboard -->
    <section id="strategy" class="bg-white py-16 border-t border-gray-100 scroll-mt-20">
        <div class="container mx-auto px-4">
            <div class="max-w-4xl mx-auto mb-10 text-center">
                <span class="text-blue-600 font-bold tracking-wider text-sm uppercase mb-2 block">Step 4</span>
                <h3 class="text-3xl font-bold mb-4">ìš°ì„ ìˆœìœ„ ê²°ì • ë° ì „ëµ ìˆ˜ë¦½</h3>
                <p class="text-gray-600">
                    ì„¤ë¬¸ ê²°ê³¼ë¥¼ ì •ëŸ‰ì ìœ¼ë¡œ ë¶„ì„í•˜ê¸° ìœ„í•´ <strong>ë§Œì¡± ê³„ìˆ˜(Better)</strong>ì™€ <strong>ë¶ˆë§Œì¡± ê³„ìˆ˜(Worse)</strong>ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.<br>
                    ìš°ì¸¡ì˜ ì¹´ë“œë¥¼ í´ë¦­í•˜ì—¬ íŠ¹ì • ê·¸ë£¹ë§Œ ê°•ì¡°í•´ì„œ í™•ì¸í•´ë³´ì„¸ìš”.
                </p>
            </div>

            <div class="flex flex-col md:flex-row gap-8 items-stretch max-w-6xl mx-auto">
                <!-- Scatter Plot Container -->
                <div class="w-full md:w-2/3 bg-white p-4 rounded-2xl shadow-lg border border-gray-100 relative">
                    <div class="chart-container h-[450px]">
                        <canvas id="strategyChart"></canvas>
                    </div>
                </div>

                <!-- Explanation Panel (Clickable) -->
                <div class="w-full md:w-1/3 flex flex-col justify-center space-y-4">
                    <!-- Must-be Card -->
                    <div id="card-mustbe" onclick="toggleStrategy('Must-be')" class="bg-amber-50 p-5 rounded-xl border border-amber-100 card-hover cursor-pointer transition-all hover:border-amber-300">
                        <div class="flex items-center gap-2 mb-2">
                             <span class="w-3 h-3 bg-amber-500 rounded-full"></span>
                             <h5 class="font-bold text-amber-800">Must-be (ë‹¹ì—°ì )</h5>
                        </div>
                        <p class="text-sm text-gray-700 leading-snug">ì§„ì… ì¥ë²½ ìš”ì†Œ. ë¶ˆë§Œì¡± ê³„ìˆ˜ê°€ ë†’ìŒ(-1ì— ê·¼ì ‘). MVPì— í•„ìˆ˜ í¬í•¨í•´ì•¼ í•˜ë‚˜, ê³¼ë„í•œ íˆ¬ìëŠ” ì§€ì–‘.</p>
                    </div>
                    
                    <!-- One-dimensional Card -->
                    <div id="card-onedim" onclick="toggleStrategy('One-dimensional')" class="bg-blue-50 p-5 rounded-xl border border-blue-100 card-hover cursor-pointer transition-all hover:border-blue-300">
                        <div class="flex items-center gap-2 mb-2">
                             <span class="w-3 h-3 bg-blue-500 rounded-full"></span>
                             <h5 class="font-bold text-blue-800">One-dimensional (ì¼ì›ì )</h5>
                        </div>
                        <p class="text-sm text-gray-700 leading-snug">ì„±ëŠ¥ ê²½ìŸ ìš”ì†Œ. ë§Œì¡±/ë¶ˆë§Œì¡± ê³„ìˆ˜ ëª¨ë‘ ë†’ìŒ. ê²½ìŸì‚¬ ëŒ€ë¹„ ìš°ìœ„ë¥¼ ì í•˜ê¸° ìœ„í•´ ì§€ì† ê³ ë„í™” í•„ìš”.</p>
                    </div>

                    <!-- Attractive Card -->
                    <div id="card-attractive" onclick="toggleStrategy('Attractive')" class="bg-rose-50 p-5 rounded-xl border border-rose-100 card-hover cursor-pointer transition-all hover:border-rose-300">
                        <div class="flex items-center gap-2 mb-2">
                             <span class="w-3 h-3 bg-rose-500 rounded-full"></span>
                             <h5 class="font-bold text-rose-800">Attractive (ë§¤ë ¥ì )</h5>
                        </div>
                        <p class="text-sm text-gray-700 leading-snug">ì°¨ë³„í™” ìš”ì†Œ(Wow Point). ë§Œì¡± ê³„ìˆ˜ ë†’ìŒ. ì ì€ ë¹„ìš©ìœ¼ë¡œ êµ¬í˜„ ê°€ëŠ¥í•˜ë‹¤ë©´ ê°€ì„±ë¹„ ìµœê³ ì˜ íˆ¬ì.</p>
                    </div>

                    <!-- Indifferent Card -->
                    <div id="card-indifferent" onclick="toggleStrategy('Indifferent')" class="bg-gray-100 p-5 rounded-xl border border-gray-200 card-hover cursor-pointer transition-all hover:border-gray-400">
                        <div class="flex items-center gap-2 mb-2">
                             <span class="w-3 h-3 bg-gray-400 rounded-full"></span>
                             <h5 class="font-bold text-gray-800">Indifferent (ë¬´ê´€ì‹¬)</h5>
                        </div>
                        <p class="text-sm text-gray-700 leading-snug">ë¦¬ì†ŒìŠ¤ ë‚­ë¹„. ê°œë°œ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì œì™¸í•˜ê±°ë‚˜ ìš°ì„ ìˆœìœ„ë¥¼ ê°€ì¥ ë‚®ê²Œ ì„¤ì •.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-16 border-t-4 border-blue-600">
        <div class="container mx-auto px-4 text-center">
            <div class="mb-8">
                <span class="text-2xl font-black tracking-tight">Kano Model Guide</span>
            </div>
            <h2 class="text-2xl font-bold mb-6 text-gray-200">ë‹¹ì‹ ì˜ ì œí’ˆì€ ì–´ë–¤ ìƒíƒœì¸ê°€ìš”?</h2>
            <p class="text-gray-400 mb-10 max-w-2xl mx-auto leading-relaxed">
                ì¹´ë…¸ ëª¨ë¸ì€ ì •ì§€ëœ ìƒíƒœê°€ ì•„ë‹™ë‹ˆë‹¤. ì–´ì œì˜ í˜ì‹ (A)ì€ ì˜¤ëŠ˜ì˜ í‘œì¤€(O)ì´ ë˜ê³ ,<br>
                ë‚´ì¼ì˜ í•„ìˆ˜(M)ê°€ ë©ë‹ˆë‹¤. ì£¼ê¸°ì ì¸ ë¦¬ì„œì¹˜ë¡œ ì‚´ì•„ìˆëŠ” ë¡œë“œë§µì„ ë§Œë“¤ì–´ë³´ì„¸ìš”.
            </p>
            <!-- [ë³€ê²½ë¨] í•˜ë‹¨ ë²„íŠ¼ ì¶”ê°€ -->
            <div class="mt-8 mb-8">
                 <a href="kano_analyzer.html" class="inline-block bg-blue-600 text-white px-8 py-3 rounded-full font-bold hover:bg-blue-700 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-1">
                    ì¹´ë…¸ëª¨ë¸ ë¶„ì„í•´ë³´ê¸°
                </a>
            </div>
            <div class="text-xs text-gray-600 border-t border-gray-800 pt-8">
                &copy; 2024 Kano Model Interactive Guide. Powered by Google Gemini API.
            </div>
        </div>
    </footer>

    <!-- Modal for API Key Guide -->
    <div id="guide-modal" class="modal fixed inset-0 z-[100] flex items-center justify-center bg-black bg-opacity-50">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-4 overflow-hidden transform scale-100 transition-transform">
            <div class="bg-blue-600 p-4 flex justify-between items-center">
                <h3 class="text-white font-bold text-lg flex items-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11.536 21H9l-.386-1.543-1.543-1.543H5.464L3.727 15.273A6 6 0 015 9a6 6 0 016-6 2 2 0 014 2z" /></svg>
                    ë¬´ë£Œ Gemini API í‚¤ ë°œê¸‰ ë°©ë²•
                </h3>
                <button onclick="closeGuideModal()" class="text-white hover:bg-blue-700 rounded-full p-1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
            <div class="p-6 space-y-6">
                <div class="flex items-start gap-3">
                    <div class="bg-blue-100 text-blue-700 font-bold rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0">1</div>
                    <div>
                        <p class="font-bold text-gray-800 mb-1">Google AI Studio ì ‘ì†</p>
                        <p class="text-sm text-gray-600">ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ êµ¬ê¸€ AI ìŠ¤íŠœë””ì˜¤ë¡œ ì´ë™í•©ë‹ˆë‹¤.</p>
                        <a href="https://aistudio.google.com/app/apikey" target="_blank" class="inline-block mt-2 bg-gray-800 text-white text-xs px-3 py-1.5 rounded hover:bg-gray-700 transition-colors">
                            ì‚¬ì´íŠ¸ ë°”ë¡œê°€ê¸° â†—
                        </a>
                    </div>
                </div>
                <div class="flex items-start gap-3">
                    <div class="bg-blue-100 text-blue-700 font-bold rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0">2</div>
                    <div>
                        <p class="font-bold text-gray-800 mb-1">API í‚¤ ìƒì„±</p>
                        <p class="text-sm text-gray-600">í™”ë©´ì˜ <strong>'Create API key'</strong> ë²„íŠ¼ì„ í´ë¦­í•˜ê³ , í”„ë¡œì íŠ¸ë¥¼ ì„ íƒ(ë˜ëŠ” ìƒˆë¡œ ìƒì„±)í•˜ì—¬ í‚¤ë¥¼ ë§Œë“­ë‹ˆë‹¤.</p>
                    </div>
                </div>
                <div class="flex items-start gap-3">
                    <div class="bg-blue-100 text-blue-700 font-bold rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0">3</div>
                    <div>
                        <p class="font-bold text-gray-800 mb-1">ë³µì‚¬ ë° ë¶™ì—¬ë„£ê¸°</p>
                        <p class="text-sm text-gray-600">ìƒì„±ëœ <code>sk-</code>ë¡œ ì‹œì‘í•˜ëŠ” ê¸´ ì½”ë“œë¥¼ ë³µì‚¬í•˜ì—¬, ì´ ì‚¬ì´íŠ¸ì˜ ì…ë ¥ì°½ì— ë¶™ì—¬ë„£ìŠµë‹ˆë‹¤.</p>
                    </div>
                </div>
                
                <div class="bg-yellow-50 p-3 rounded-lg border border-yellow-200 text-xs text-yellow-800 mt-4">
                    <strong>Tip:</strong> ì´ ì‚¬ì´íŠ¸ëŠ” ì„œë²„ì— í‚¤ë¥¼ ì €ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë¸Œë¼ìš°ì €ì—ì„œë§Œ ì¼ì‹œì ìœ¼ë¡œ ì‚¬ìš©ë˜ë¯€ë¡œ ì•ˆì‹¬í•˜ì„¸ìš”.
                </div>
            </div>
            <div class="bg-gray-50 p-4 flex justify-end">
                <button onclick="closeGuideModal()" class="px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 font-medium transition-colors">
                    ë‹«ê¸°
                </button>
            </div>
        </div>
    </div>

    <script>
        // --- [ì¶”ê°€ë¨] Global API Key Management ---
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì €ì¥ëœ í‚¤ ë¶ˆëŸ¬ì˜¤ê¸°
        document.addEventListener('DOMContentLoaded', () => {
            const savedKey = localStorage.getItem('gemini_api_key');
            if(savedKey) {
                document.getElementById('api-key-input').value = savedKey;
            }
            
            // ... existing init calls ...
            initConceptChart();
            initMatrix();
            updateSimulation(); 
            initStrategyChart();
            document.getElementById('functional-select').addEventListener('change', updateSimulation);
            document.getElementById('dysfunctional-select').addEventListener('change', updateSimulation);
        });

        // í‚¤ ì…ë ¥ ì‹œ ì €ì¥ í•¨ìˆ˜
        function saveApiKey(key) {
            localStorage.setItem('gemini_api_key', key);
        }

        // --- Modal Logic ---
        function openGuideModal() {
            const modal = document.getElementById('guide-modal');
            modal.classList.remove('hidden');
            // Small timeout to allow display:block to apply before opacity transition
            setTimeout(() => {
                modal.classList.add('active');
            }, 10);
        }

        function closeGuideModal() {
            const modal = document.getElementById('guide-modal');
            modal.classList.remove('active');
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300); // Wait for transition
        }

        // Close modal when clicking outside
        document.getElementById('guide-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeGuideModal();
            }
        });
        
        // Hide modal initially
        document.getElementById('guide-modal').classList.add('hidden');


        // --- 1. Concept Visualization Logic ---
        // Range: -10 (Absent) to 10 (Fully Implemented)
        const xValues = Array.from({length: 41}, (_, i) => (i - 20) / 2); // -10 to 10 step 0.5
        
        // Curve Formulas
        const oneDimData = xValues.map(x => x * 0.8); 
        const indifferentCurve = xValues.map(x => 0); 
        const reverseCurve = xValues.map(x => -x * 0.8);

        // Standardizing curves for the visual
        const finalMustBe = xValues.map(x => -9 * Math.pow((20 - (x + 10))/20, 4)); // x=-10 -> y=-9. x=10 -> y=0
        const finalAttractive = xValues.map(x => 9 * Math.pow((x + 10)/20, 4)); // x=-10 -> y=0. x=10 -> y=9

        // Descriptions for the Text Panel
        const conceptDetails = {
            mustbe: {
                title: "ë‹¹ì—°ì  í’ˆì§ˆ (Must-be)",
                desc: "<strong>'ê¸°ë³¸ ì˜ˆì˜'</strong>ì— í•´ë‹¹í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.<br>ì¶©ì¡±ë˜ì–´ë„ ì¹­ì°¬ë°›ì§€ ëª»í•˜ì§€ë§Œ(ë§Œì¡±ë„ 0ì— ìˆ˜ë ´),<br>ê²°í•ë˜ë©´ ë¶ˆë§Œì´ í­ë°œí•©ë‹ˆë‹¤(Yì¶• í•˜ë‹¨ ê¸‰ë½).",
                color: 'rgba(219, 39, 119, 1)', // Pink-600
                bg: 'rgba(219, 39, 119, 0.1)'
            },
            onedim: {
                title: "ì¼ì›ì  í’ˆì§ˆ (One-dimensional)",
                desc: "<strong>'ë‹¤ë‹¤ìµì„ '</strong>ì¸ ê¸°ëŠ¥ì…ë‹ˆë‹¤.<br>ê¸°ëŠ¥ì´ ì¶©ì¡±ë ìˆ˜ë¡ ë§Œì¡±ë„ë„ ë¹„ë¡€í•˜ì—¬(ì§ì„ ) ìƒìŠ¹í•©ë‹ˆë‹¤.<br>ê°€ì¥ ì§ê´€ì ì¸ ì„±ê³¼ ì§€í‘œì…ë‹ˆë‹¤.",
                color: 'rgba(217, 119, 6, 1)', // Amber-600
                bg: 'rgba(217, 119, 6, 0.1)'
            },
            attractive: {
                title: "ë§¤ë ¥ì  í’ˆì§ˆ (Attractive)",
                desc: "<strong>'Wow Point'</strong>ì…ë‹ˆë‹¤.<br>ì—†ì–´ë„ ë¶ˆë§Œì€ ì—†ì§€ë§Œ(0ì—ì„œ ì‹œì‘),<br>ì¶©ì¡±ë˜ë©´ ë§Œì¡±ë„ê°€ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ìƒìŠ¹í•©ë‹ˆë‹¤(Yì¶• ìƒë‹¨ ê¸‰ìƒìŠ¹).",
                color: 'rgba(37, 99, 235, 1)', // Blue-600
                bg: 'rgba(37, 99, 235, 0.1)'
            },
            indifferent: {
                title: "ë¬´ê´€ì‹¬ í’ˆì§ˆ (Indifferent)",
                desc: "ê³ ê°ì´ ì‹ ê²½ ì“°ì§€ ì•ŠëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.<br>ê¸°ëŠ¥ ì¶©ì¡± ì—¬ë¶€ì™€ ìƒê´€ì—†ì´ ë§Œì¡±ë„ëŠ” 0(ì¤‘ê°„)ì— ë¨¸ë¬´ë¦…ë‹ˆë‹¤.",
                color: 'rgba(75, 85, 99, 1)', // Gray-600
                bg: 'rgba(75, 85, 99, 0.1)'
            },
            reverse: {
                title: "ì—­í’ˆì§ˆ (Reverse)",
                desc: "ì˜¤íˆë ¤ ì—­íš¨ê³¼ë¥¼ ë‚´ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.<br>ê¸°ëŠ¥ì´ ë”í•´ì§ˆìˆ˜ë¡ ë§Œì¡±ë„ê°€ ë–¨ì–´ì§€ëŠ”(ìš°í•˜í–¥) ê·¸ë˜í”„ë¥¼ ê·¸ë¦½ë‹ˆë‹¤.",
                color: 'rgba(220, 38, 38, 1)', // Red-600
                bg: 'rgba(220, 38, 38, 0.1)'
            }
        };

        let conceptChart;

        function initConceptChart() {
            const ctx = document.getElementById('kanoConceptChart').getContext('2d');
            
            // Image colors
            const colMustBe = 'rgba(219, 39, 119, 1)'; 
            const colAttractive = 'rgba(37, 99, 235, 1)';
            const colPerformance = 'rgba(217, 119, 6, 1)'; 
            const colIndifferent = 'rgba(107, 114, 128, 0.5)'; 
            const colReverse = 'rgba(220, 38, 38, 0.6)'; 

            conceptChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: xValues,
                    datasets: [
                        { label: 'Must-be', data: finalMustBe, borderColor: colMustBe, backgroundColor: colMustBe, borderWidth: 4, fill: false, tension: 0.4, pointRadius: 0 },
                        { label: 'One-dimensional', data: oneDimData, borderColor: colPerformance, backgroundColor: colPerformance, borderWidth: 4, fill: false, tension: 0, pointRadius: 0 },
                        { label: 'Attractive', data: finalAttractive, borderColor: colAttractive, backgroundColor: colAttractive, borderWidth: 4, fill: false, tension: 0.4, pointRadius: 0 },
                        { label: 'Indifferent', data: indifferentCurve, borderColor: colIndifferent, backgroundColor: colIndifferent, borderWidth: 3, borderDash: [10, 5], fill: false, pointRadius: 0 },
                        { label: 'Reverse', data: reverseCurve, borderColor: colReverse, backgroundColor: colReverse, borderWidth: 3, fill: false, pointRadius: 0 }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: { mode: 'nearest', intersect: false },
                    plugins: {
                        legend: { display: false },
                        tooltip: { enabled: false },
                        annotation: {
                            annotations: {
                                xAxis: {
                                    type: 'line',
                                    yMin: 0,
                                    yMax: 0,
                                    borderColor: '#e5e7eb',
                                    borderWidth: 2
                                },
                                yAxis: {
                                    type: 'line',
                                    xMin: 0,
                                    xMax: 0,
                                    borderColor: '#e5e7eb',
                                    borderWidth: 2
                                }
                            }
                        }
                    },
                    scales: {
                        x: { 
                            type: 'linear', 
                            min: -10.5, 
                            max: 10.5, 
                            grid: { display: false }, 
                            ticks: { display: false } 
                        },
                        y: { 
                            min: -10.5, 
                            max: 10.5, 
                            grid: { display: false }, 
                            ticks: { display: false } 
                        }
                    },
                    animation: { duration: 700, easing: 'easeInOutQuart' }
                }
            });
            updateConcept('mustbe');
        }

        function updateConcept(type) {
            document.querySelectorAll('.concept-btn').forEach(btn => {
                btn.classList.remove('bg-pink-50', 'bg-amber-50', 'bg-blue-50', 'bg-gray-100', 'bg-red-50', 'border-pink-300', 'border-amber-300', 'border-blue-300', 'border-gray-400', 'border-red-300', 'ring-2', 'ring-opacity-50');
                btn.classList.add('bg-white', 'border-gray-200');
            });
            const activeBtn = document.getElementById(`btn-${type}`);
            if(activeBtn) {
                activeBtn.classList.remove('bg-white', 'border-gray-200');
                // Colors are handled by the specific hover/active classes in HTML or inline styles would be better, but we stick to the class logic below
                if(type === 'mustbe') activeBtn.classList.add('bg-pink-50', 'border-pink-300', 'ring-2', 'ring-pink-100');
                if(type === 'onedim') activeBtn.classList.add('bg-amber-50', 'border-amber-300', 'ring-2', 'ring-amber-100');
                if(type === 'attractive') activeBtn.classList.add('bg-blue-50', 'border-blue-300', 'ring-2', 'ring-blue-100');
                if(type === 'indifferent') activeBtn.classList.add('bg-gray-100', 'border-gray-400', 'ring-2', 'ring-gray-200');
                if(type === 'reverse') activeBtn.classList.add('bg-red-50', 'border-red-300', 'ring-2', 'ring-red-100');
            }

            const info = conceptDetails[type];
            document.getElementById('concept-description').innerHTML = `
                <h4 class="text-xl font-bold mb-2" style="color:${info.color}">${info.title}</h4>
                <p class="text-gray-700 leading-relaxed text-sm">${info.desc}</p>
            `;
            // Also color the border of the box
            document.getElementById('concept-description').style.borderColor = info.color;
            document.getElementById('concept-description').style.backgroundColor = info.bg;

            if (conceptChart) {
                const typeMap = { 'mustbe': 0, 'onedim': 1, 'attractive': 2, 'indifferent': 3, 'reverse': 4 };
                const selectedIndex = typeMap[type];

                conceptChart.data.datasets.forEach((ds, index) => {
                    if (index === selectedIndex) {
                        ds.borderColor = ds.backgroundColor; 
                        ds.borderWidth = 5; 
                        ds.order = 0; 
                        // Make others fade
                        ds.hidden = false;
                    } else {
                        ds.borderColor = 'rgba(229, 231, 235, 0.4)'; 
                        ds.borderWidth = 2;
                        ds.order = 1;
                    }
                });
                conceptChart.update();
            }
        }

        // --- 2. Survey Simulation Logic ---
        const kanoMatrix = [
            ['Q', 'A', 'A', 'A', 'O'], ['R', 'I', 'I', 'I', 'M'], ['R', 'I', 'I', 'I', 'M'], ['R', 'I', 'I', 'I', 'M'], ['R', 'R', 'R', 'R', 'Q']
        ];
        const categoryNames = {
            'Q': { text: 'Q (ëª¨ìˆœ)', desc: 'ì˜ì‹¬ìŠ¤ëŸ¬ìš´ ê²°ê³¼ (ì§ˆë¬¸ ì˜¤í•´ ê°€ëŠ¥ì„±)', color: 'text-gray-500' },
            'A': { text: 'A (ë§¤ë ¥ì )', desc: 'Wow Point! ì°¨ë³„í™” ìš”ì†Œ', color: 'text-rose-600' },
            'O': { text: 'O (ì¼ì›ì )', desc: 'í•µì‹¬ ì„±ëŠ¥ ìš”ì†Œ (ê²½ìŸ)', color: 'text-blue-600' },
            'M': { text: 'M (ë‹¹ì—°ì )', desc: 'í•„ìˆ˜ ê¸°ë³¸ ìš”ì†Œ (MVP)', color: 'text-amber-600' },
            'I': { text: 'I (ë¬´ê´€ì‹¬)', desc: 'ë¶ˆí•„ìš”í•œ ê¸°ëŠ¥', color: 'text-gray-400' },
            'R': { text: 'R (ì—­í’ˆì§ˆ)', desc: 'ê³ ê°ì´ ì‹«ì–´í•˜ëŠ” ê¸°ëŠ¥', color: 'text-purple-600' }
        };

        function initMatrix() {
            const tbody = document.getElementById('matrix-body');
            const rowLabels = ['1.ì¢‹ìŒ', '2.ë‹¹ì—°', '3.ì¤‘ë¦½', '4.ìˆ˜ìš©', '5.ì‹«ìŒ'];
            tbody.innerHTML = '';
            rowLabels.forEach((label, rowIndex) => {
                const tr = document.createElement('tr');
                const th = document.createElement('th');
                th.className = "p-2 bg-white text-gray-700 text-xs font-medium border border-gray-100 rounded shadow-sm";
                th.innerText = label;
                tr.appendChild(th);
                for (let colIndex = 0; colIndex < 5; colIndex++) {
                    const td = document.createElement('td');
                    td.className = "p-2 border border-gray-100 text-sm matrix-cell cursor-default rounded shadow-sm font-semibold bg-white";
                    td.id = `cell-${rowIndex}-${colIndex}`;
                    const code = kanoMatrix[rowIndex][colIndex];
                    td.innerText = code;
                    if(code === 'A') td.classList.add('bg-rose-50', 'text-rose-700', 'border-rose-100');
                    if(code === 'O') td.classList.add('bg-blue-50', 'text-blue-700', 'border-blue-100');
                    if(code === 'M') td.classList.add('bg-amber-50', 'text-amber-700', 'border-amber-100');
                    if(code === 'I') td.classList.add('bg-gray-50', 'text-gray-400', 'border-gray-100');
                    if(code === 'R') td.classList.add('bg-purple-50', 'text-purple-700', 'border-purple-100');
                    if(code === 'Q') td.classList.add('bg-red-50', 'text-red-400', 'border-red-100');
                    tr.appendChild(td);
                }
                tbody.appendChild(tr);
            });
        }

        function updateSimulation() {
            const funcVal = parseInt(document.getElementById('functional-select').value) - 1;
            const dysfuncVal = parseInt(document.getElementById('dysfunctional-select').value) - 1;
            
            document.querySelectorAll('.matrix-cell').forEach(cell => cell.classList.remove('active-cell'));
            
            const targetCell = document.getElementById(`cell-${funcVal}-${dysfuncVal}`);
            if (targetCell) targetCell.classList.add('active-cell');
            
            const resultCode = kanoMatrix[funcVal][dysfuncVal];
            const resultData = categoryNames[resultCode];
            
            const resultDisplay = document.getElementById('result-display');
            const resultDesc = document.getElementById('result-desc');
            
            resultDisplay.innerText = resultData.text;
            resultDisplay.className = `text-4xl font-black mb-2 transition-all ${resultData.color}`;
            resultDesc.innerText = resultData.desc;
        }

        // --- 3. AI Assistant Logic (Gemini API) ---
        async function askGemini() {
            const featureInput = document.getElementById('feature-input');
            const featureName = featureInput.value.trim();
            const apiKeyInput = document.getElementById('api-key-input').value.trim();
            const apiKey = apiKeyInput || ""; // Use input or empty

            if (!apiKey) {
                alert("AI ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´ ì„¤ì • ë©”ë‰´ì—ì„œ API í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                document.getElementById('api-key-input').focus();
                // Optionally open the guide if they try to run without a key
                openGuideModal();
                return;
            }

            if (!featureName) {
                alert("ê¸°ëŠ¥ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                featureInput.focus();
                return;
            }

            // UI State: Loading
            document.getElementById('ai-btn').disabled = true;
            document.getElementById('ai-btn').classList.add('opacity-50', 'cursor-not-allowed');
            document.getElementById('ai-loading').classList.remove('hidden');
            document.getElementById('ai-result').classList.add('hidden');
            document.getElementById('ai-error').classList.add('hidden');

            const prompt = `
                Role: Product Manager Expert specializing in Kano Model Analysis.
                Task: Analyze the feature: "${featureName}".
                
                Output: Provide a JSON object (no markdown formatting).
                Language: Korean (í•œêµ­ì–´).
                
                Schema:
                {
                    "functional_q": "Positive Question (Functional)",
                    "dysfunctional_q": "Negative Question (Dysfunctional)",
                    "hypothesis": "Predicted Category (Must-be, One-dimensional, Attractive, Indifferent)",
                    "advice": "One sentence strategic advice"
                }

                Example Output:
                {
                    "functional_q": "ìë™ ì €ì¥ ê¸°ëŠ¥ì´ ìˆë‹¤ë©´ ì–´ë– ì‹­ë‹ˆê¹Œ?",
                    "dysfunctional_q": "ìë™ ì €ì¥ ê¸°ëŠ¥ì´ ì—†ë‹¤ë©´ ì–´ë– ì‹­ë‹ˆê¹Œ?",
                    "hypothesis": "Must-be (ë‹¹ì—°ì  í’ˆì§ˆ)",
                    "advice": "ì‚¬ìš©ì ë°ì´í„° ì†ì‹¤ ë°©ì§€ë¥¼ ìœ„í•´ í•„ìˆ˜ì ìœ¼ë¡œ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤."
                }
            `;

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: prompt }] }],
                        generationConfig: { responseMimeType: "application/json" }
                    })
                });

                if (!response.ok) {
                    const errData = await response.json();
                    throw new Error(errData.error?.message || 'API Request Failed');
                }

                const data = await response.json();
                let text = data.candidates[0].content.parts[0].text;
                
                // Safety cleanup for markdown code blocks
                text = text.replace(/```json/g, '').replace(/```/g, '').trim();

                const result = JSON.parse(text);

                // Update UI with Result
                document.getElementById('ai-q-func').innerText = result.functional_q;
                document.getElementById('ai-q-dysfunc').innerText = result.dysfunctional_q;
                document.getElementById('ai-hypothesis').innerText = result.hypothesis;
                document.getElementById('ai-advice').innerText = result.advice;

                document.getElementById('ai-loading').classList.add('hidden');
                document.getElementById('ai-result').classList.remove('hidden');

            } catch (error) {
                console.error(error);
                document.getElementById('ai-loading').classList.add('hidden');
                document.getElementById('ai-error').classList.remove('hidden');
                document.getElementById('error-message').innerText = error.message;
            } finally {
                document.getElementById('ai-btn').disabled = false;
                document.getElementById('ai-btn').classList.remove('opacity-50', 'cursor-not-allowed');
            }
        }


        // --- 4. Strategy Scatter Plot Logic ---
        
        let strategyChart; // ì „ì—­ ë³€ìˆ˜ë¡œ ì°¨íŠ¸ ì„ ì–¸
        let activeStrategyType = null; // í˜„ì¬ ì„ íƒëœ í•„í„° (nullì´ë©´ ì „ì²´ ë³´ê¸°)

        // ìƒ‰ìƒ ìƒìˆ˜ ì •ì˜
        const strategyColors = {
            'Must-be': 'rgba(245, 158, 11, 1)', // Amber-500
            'One-dimensional': 'rgba(59, 130, 246, 1)', // Blue-500
            'Attractive': 'rgba(244, 63, 94, 1)', // Rose-500
            'Indifferent': 'rgba(156, 163, 175, 1)' // Gray-400
        };

        const fadedColor = 'rgba(229, 231, 235, 0.4)'; // ì„ íƒë˜ì§€ ì•Šì€ ìš”ì†Œ ìƒ‰ìƒ (ì—°í•œ íšŒìƒ‰)

        function initStrategyChart() {
            const ctx = document.getElementById('strategyChart').getContext('2d');
            const dataPoints = [
                { x: -0.85, y: 0.2, label: 'ë¡œê·¸ì¸/ë³´ì•ˆ', type: 'Must-be' },
                { x: -0.7, y: 0.75, label: 'ë¡œë”© ì†ë„', type: 'One-dimensional' },
                { x: -0.1, y: 0.8, label: 'ë‹¤í¬ ëª¨ë“œ', type: 'Attractive' },
                { x: -0.2, y: 0.15, label: 'ìŒì„± ì œì–´', type: 'Indifferent' },
                { x: -0.6, y: 0.6, label: 'ë°°í„°ë¦¬ ìˆ˜ëª…', type: 'One-dimensional' },
                { x: -0.9, y: 0.1, label: 'ê²°ì œ ê¸°ëŠ¥', type: 'Must-be' },
                { x: -0.15, y: 0.65, label: 'AI ì¶”ì²œ', type: 'Attractive' }
            ];

            strategyChart = new Chart(ctx, {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'ê¸°ëŠ¥ ì•„ì´í…œ',
                        data: dataPoints,
                        // [ìˆ˜ì •ë¨] ë™ì  ë°°ê²½ìƒ‰ ë¡œì§
                        backgroundColor: (ctx) => {
                            const type = ctx.raw?.type;
                            // 1. ì•„ë¬´ê²ƒë„ ì„ íƒ ì•ˆëœ ìƒíƒœë©´ ê¸°ë³¸ ìƒ‰ìƒ (íˆ¬ëª…ë„ 0.8)
                            if (!activeStrategyType) {
                                return strategyColors[type].replace('1)', '0.8)');
                            }
                            // 2. ì„ íƒëœ íƒ€ì…ì´ë©´ ì§„í•œ ìƒ‰ìƒ
                            if (type === activeStrategyType) {
                                return strategyColors[type];
                            }
                            // 3. ì„ íƒë˜ì§€ ì•Šì€ íƒ€ì…ì´ë©´ íë¦¬ê²Œ
                            return fadedColor;
                        },
                        // [ì¶”ê°€ë¨] ë™ì  í…Œë‘ë¦¬ ìƒ‰ìƒ ë¡œì§ (ì„ íƒ ì‹œ ê°•ì¡°ìš©)
                        pointBorderColor: (ctx) => {
                            const type = ctx.raw?.type;
                            if (activeStrategyType && type === activeStrategyType) {
                                return strategyColors[type]; // ì„ íƒëœ ê²ƒ: ê°™ì€ ìƒ‰ìƒì˜ í…Œë‘ë¦¬
                            }
                            return '#fff'; // ê¸°ë³¸: í°ìƒ‰ í…Œë‘ë¦¬
                        },
                        // [ì¶”ê°€ë¨] ë™ì  í…Œë‘ë¦¬ ë‘ê»˜ ë¡œì§
                        pointBorderWidth: (ctx) => {
                            const type = ctx.raw?.type;
                            if (activeStrategyType && type === activeStrategyType) {
                                return 4; // ì„ íƒëœ ê²ƒ: êµµì€ í…Œë‘ë¦¬
                            }
                            return 1; // ê¸°ë³¸ ë‘ê»˜
                        },
                        pointRadius: 8,
                        pointHoverRadius: 12
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: { 
                            title: { display: true, text: 'ë¶ˆë§Œì¡± ê³„ìˆ˜ (Worse)', font: {weight:'bold'} }, 
                            min: -1, 
                            max: 0,
                            grid: { color: '#f3f4f6' }
                        },
                        y: { 
                            title: { display: true, text: 'ë§Œì¡± ê³„ìˆ˜ (Better)', font: {weight:'bold'} }, 
                            min: 0, 
                            max: 1,
                            grid: { color: '#f3f4f6' }
                        }
                    },
                    plugins: {
                        tooltip: {
                            backgroundColor: 'rgba(255, 255, 255, 0.95)',
                            titleColor: '#1f2937',
                            bodyColor: '#4b5563',
                            borderColor: '#e5e7eb',
                            borderWidth: 1,
                            padding: 10,
                            displayColors: true,
                            callbacks: {
                                label: function(context) { return `${context.raw.label} (${context.raw.type})`; },
                                afterLabel: function(context) { return `Better: ${context.raw.y}, Worse: ${context.raw.x}`; }
                            }
                        },
                        annotation: {
                            annotations: {
                                q1: { type: 'box', xMin: -1, xMax: -0.5, yMin: 0, yMax: 0.5, backgroundColor: 'rgba(245, 158, 11, 0.05)', label: { display: true, content: 'Must-be', position: 'center', color: 'rgba(245, 158, 11, 0.3)', font: {size:16, weight:'bold'} } },
                                q2: { type: 'box', xMin: -1, xMax: -0.5, yMin: 0.5, yMax: 1, backgroundColor: 'rgba(59, 130, 246, 0.05)', label: { display: true, content: 'One-dimensional', position: 'center', color: 'rgba(59, 130, 246, 0.3)', font: {size:16, weight:'bold'} } },
                                q3: { type: 'box', xMin: -0.5, xMax: 0, yMin: 0.5, yMax: 1, backgroundColor: 'rgba(244, 63, 94, 0.05)', label: { display: true, content: 'Attractive', position: 'center', color: 'rgba(244, 63, 94, 0.3)', font: {size:16, weight:'bold'} } },
                                q4: { type: 'box', xMin: -0.5, xMax: 0, yMin: 0, yMax: 0.5, backgroundColor: 'rgba(156, 163, 175, 0.05)', label: { display: true, content: 'Indifferent', position: 'center', color: 'rgba(156, 163, 175, 0.3)', font: {size:16, weight:'bold'} } }
                            }
                        }
                    }
                }
            });
        }

        // [ì¶”ê°€ë¨] ì¹´ë“œ í´ë¦­ ì‹œ ì‹¤í–‰ë˜ëŠ” í† ê¸€ í•¨ìˆ˜
        function toggleStrategy(type) {
            // ì´ë¯¸ ì„ íƒëœ ê²ƒì„ ë‹¤ì‹œ ëˆ„ë¥´ë©´ ì´ˆê¸°í™” (í† ê¸€)
            if (activeStrategyType === type) {
                activeStrategyType = null;
                
                // ì¹´ë“œ ìŠ¤íƒ€ì¼ ì´ˆê¸°í™” (ëª¨ë“  ì¹´ë“œ í™œì„±í™” ìƒíƒœë¡œ)
                updateCardStyles(null);
            } else {
                // ìƒˆë¡œìš´ íƒ€ì… ì„ íƒ
                activeStrategyType = type;
                
                // ì¹´ë“œ ìŠ¤íƒ€ì¼ ì—…ë°ì´íŠ¸ (ì„ íƒëœ ê²ƒë§Œ ê°•ì¡°)
                updateCardStyles(type);
            }
            
            // ì°¨íŠ¸ ì—…ë°ì´íŠ¸ (ë³€ê²½ëœ ìƒíƒœ ë°˜ì˜)
            if (strategyChart) {
                strategyChart.update();
            }
        }

        // [ì¶”ê°€ë¨] ì¹´ë“œ UI ìƒíƒœ ì—…ë°ì´íŠ¸ (ì„ íƒëœ ì¹´ë“œëŠ” ì§„í•˜ê²Œ, ë‚˜ë¨¸ì§€ëŠ” ì—°í•˜ê²Œ)
        function updateCardStyles(activeType) {
            const cards = {
                'Must-be': document.getElementById('card-mustbe'),
                'One-dimensional': document.getElementById('card-onedim'),
                'Attractive': document.getElementById('card-attractive'),
                'Indifferent': document.getElementById('card-indifferent')
            };

            for (const [key, card] of Object.entries(cards)) {
                if (!card) continue;

                if (activeType === null) {
                    // ì „ì²´ ë³´ê¸° ìƒíƒœ
                    card.classList.remove('opacity-40', 'ring-4', 'ring-offset-2', 'ring-gray-200');
                    card.classList.add('opacity-100');
                } else if (key === activeType) {
                    // ì„ íƒëœ ì¹´ë“œ
                    card.classList.remove('opacity-40');
                    card.classList.add('opacity-100', 'ring-4', 'ring-offset-2', 'ring-gray-200');
                } else {
                    // ì„ íƒë˜ì§€ ì•Šì€ ì¹´ë“œ
                    card.classList.remove('opacity-100', 'ring-4', 'ring-offset-2', 'ring-gray-200');
                    card.classList.add('opacity-40');
                }
            }
        }

        // --- Init ---
        window.addEventListener('load', () => {
            initConceptChart();
            initMatrix();
            updateSimulation(); 
            initStrategyChart();
            document.getElementById('functional-select').addEventListener('change', updateSimulation);
            document.getElementById('dysfunctional-select').addEventListener('change', updateSimulation);
        });

    </script>
</body>
</html>
